<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="gr.greekbudget.ChartsController"
            styleClass="orange-background">

    <!-- ================= LEFT MENU ================= -->
    <left>
        <VBox spacing="15"
              alignment="TOP_CENTER"
              prefWidth="180"
              styleClass="filter-bar">

            <padding>
                <Insets top="20" left="10" right="10" bottom="20"/>
            </padding>

            <Label text="Î“ÏÎ±Ï†Î®Î¼Î±Ï„Î±"
                   style="-fx-font-size: 20px; -fx-font-weight: bold;"/>

            <Separator/>

            <Label text="ÎˆÏ„Î¿Ï‚"
                   style="-fx-font-size: 15px;"/>
            <ComboBox fx:id="yearComboBox"
                      prefWidth="140"/>

            <Separator/>

            <Button text="Back"
                    onAction="#goBack"
                    prefWidth="120"
                    styleClass="btn-orange-small"/>
        </VBox>
    </left>

    <!-- ================= CENTER CONTENT ================= -->
    <center>
        <ScrollPane fitToWidth="true"
                    hbarPolicy="NEVER">

            <VBox spacing="30"
                  alignment="TOP_CENTER"
                  fillWidth="true">

                <padding>
                    <Insets top="20" right="30" bottom="30" left="30"/>
                </padding>

                <!-- TITLE -->
                <Label text="Î£Ï„Î±Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Ï"
                       style="-fx-font-size: 28px; -fx-font-weight: bold;"/>

                <!-- ================================================= -->
                <!-- 1ï¸âƒ£ REVENUE LINE CHART -->
                <!-- ================================================= -->

                <TitledPane text="ÎˆÏƒÎ¿Î´Î± Î±Î½Î¬ ÎˆÏ„Î¿Ï‚"
                            expanded="true"
                            prefWidth="900">

                    <LineChart fx:id="revenueChart"
                               prefHeight="280"
                               animated="false">
                        <xAxis>
                            <CategoryAxis label="ÎˆÏ„Î¿Ï‚"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Î Î¿ÏƒÏŒ (â‚¬)"/>
                        </yAxis>
                    </LineChart>
                </TitledPane>

                

                <!-- ================================================= -->
                <!-- 2ï¸âƒ£ EXPENSE LINE CHART -->
                <!-- ================================================= -->

                <TitledPane text="ÎˆÎ¾Î¿Î´Î± Î±Î½Î¬ ÎˆÏ„Î¿Ï‚"
                            expanded="true"
                            prefWidth="900">

                    <LineChart fx:id="expenseChart"
                               prefHeight="280"
                               animated="false">
                        <xAxis>
                            <CategoryAxis label="ÎˆÏ„Î¿Ï‚"/>
                        </xAxis>
                        <yAxis>
                            <NumberAxis label="Î Î¿ÏƒÏŒ (â‚¬)"/>
                        </yAxis>
                    </LineChart>
                </TitledPane>


                <!-- ================================================= -->
                <!-- ðŸŸ¡ BUDGET DONUT OVERVIEW (NEW) -->
                <!-- ================================================= -->

                <TitledPane text="Î£ÏÎ½Î¿ÏˆÎ· Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Ï Î±Î½Î¬ ÎˆÏ„Î¿Ï‚"
                            expanded="true"
                            prefWidth="900">

                    <HBox fx:id="budgetDonutBox"
                          spacing="30"
                          alignment="CENTER">

                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                    </HBox>
                </TitledPane>

                <!-- ================================================= -->
                <!-- 3ï¸âƒ£ MINISTRY COMPOSITION -->
                <!-- ================================================= -->

                <TitledPane text="Î”Î±Ï€Î¬Î½ÎµÏ‚ Î±Î½Î¬ Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿"
                            expanded="true"
                            prefWidth="900">

                    <VBox spacing="25"
                          alignment="TOP_CENTER">

                        <!-- PIE ALL -->
                        <Label text="ÎŒÎ»Î± Ï„Î± Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î±"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                        <HBox spacing="20"
                              alignment="TOP_CENTER">
                            <PieChart fx:id="ministryChartAll"
                                      prefWidth="360"
                                      prefHeight="260"
                                      labelsVisible="false"/>
                            <VBox fx:id="legendBoxAll"
                                  spacing="6"/>
                        </HBox>

                        <Separator/>

                        <!-- PIE WITHOUT FINANCE -->
                        <Label text="Î§Ï‰ÏÎ¯Ï‚ Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿ ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÏŽÎ½"
                               style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

                        <HBox spacing="20"
                              alignment="TOP_CENTER">
                            <PieChart fx:id="ministryChartNoFinance"
                                      prefWidth="360"
                                      prefHeight="260"
                                      labelsVisible="false"/>
                            <VBox fx:id="legendBoxNoFinance"
                                  spacing="6"/>
                        </HBox>

                        <Separator/>

                        <!-- ================================================= -->
                        <!-- 4ï¸âƒ£ TREND -->
                        <!-- ================================================= -->

                        <Label text="Î•Î¾Î­Î»Î¹Î¾Î· Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿Ï… ÏƒÏ„Î¿Î½ Î§ÏÏŒÎ½Î¿"
                               style="-fx-font-size: 18px; -fx-font-weight: bold;"/>

                        <Label fx:id="trendHintLabel"
                               text="Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Ï…Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿ Î³Î¹Î± Î½Î± Î´ÎµÎ¯Ï„Îµ Ï„Î·Î½ ÎµÎ¾Î­Î»Î¹Î¾Î® Ï„Î¿Ï… ÏƒÏ„Î¿Î½ Ï‡ÏÏŒÎ½Î¿."
                               wrapText="true"
                               style="-fx-font-size: 14px;"
                               maxWidth="650"/>

                        <HBox spacing="10"
                              alignment="CENTER_LEFT">
                            <Label text="Î¥Ï€Î¿Ï…ÏÎ³ÎµÎ¯Î¿:"/>
                            <ComboBox fx:id="trendMinistryComboBox"
                                      prefWidth="300"/>

                            <Button text="Reset"
                                    fx:id="trendResetButton"
                                    styleClass="btn-orange-small"/>
                        </HBox>

                        <BarChart fx:id="ministryTrendChart"
                                  prefWidth="900"
                                  prefHeight="320"
                                  animated="false"
                                  visible="false"
                                  managed="false">
                            <xAxis>
                                <CategoryAxis label="ÎˆÏ„Î¿Ï‚"/>
                            </xAxis>
                            <yAxis>
                                <NumberAxis fx:id="trendYAxis"
                                            label="Î Î¿ÏƒÏŒ (â‚¬)"/>
                            </yAxis>
                        </BarChart>

                    </VBox>
                </TitledPane>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
